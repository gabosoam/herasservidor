{"version":3,"sources":["../../src/pages/settings/settings.module.ts","../../src/pages/settings/settings.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\nimport { SettingsPage } from './settings';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SettingsPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(SettingsPage),\r\n    TranslateModule.forChild()\r\n  ],\r\n  exports: [\r\n    SettingsPage\r\n  ]\r\n})\r\nexport class SettingsPageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.module.ts","import { Component } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { IonicPage, NavController, NavParams, ModalController, AlertController } from 'ionic-angular';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Items } from '../../providers/providers';\r\n\r\nimport { Settings } from '../../providers/providers';\r\n\r\n/**\r\n * The Settings page is a simple form that syncs with a Settings provider\r\n * to enable the user to customize settings for the app.\r\n *\r\n */\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-settings',\r\n  templateUrl: 'settings.html'\r\n})\r\nexport class SettingsPage {\r\n  // Our local settings object\r\n  options: any;\r\n  cbxProducto: any;\r\n  cbxCodigo: any;\r\n  settingsReady = false;\r\n\r\n  form: FormGroup;\r\n  formCodigo: FormGroup;\r\n  codigo: any;\r\n  productos: any;\r\n\r\n  buscador: String;\r\n\r\n\r\n  profileSettings = {\r\n    page: 'profile',\r\n    pageTitleKey: 'SETTINGS_PAGE_PROFILE'\r\n  };\r\n\r\n  page: string = 'main';\r\n  pageTitleKey: string = 'SETTINGS_TITLE';\r\n  pageTitle: string;\r\n\r\n  subSettings: any = SettingsPage;\r\n\r\n  constructor(public navCtrl: NavController,\r\n    public settings: Settings,\r\n    public formBuilder: FormBuilder,\r\n    public navParams: NavParams,\r\n    public translate: TranslateService,\r\n    public alertCtrl: AlertController,\r\n\r\n    public modalCtrl: ModalController,\r\n    public items: Items) {\r\n\r\n    this.form = formBuilder.group({\r\n      name: ['', Validators.required]\r\n    });\r\n\r\n    this.formCodigo = formBuilder.group({\r\n      name: ['', Validators.required]\r\n    });\r\n\r\n  }\r\n\r\n  saludar() {\r\n    this.buscador = \"nombre\";\r\n    let seq = this.items.buscarProductoNombre(this.form.value.name);\r\n    seq.subscribe((res: any) => {\r\n\r\n      console.log(res);\r\n      this.productos = res;\r\n    }, err => {\r\n      console.error('ERROR', err);\r\n    });\r\n\r\n  }\r\n\r\n  crearProducto(){\r\n       //  let addModal = this.modalCtrl.create('ItemCreatePage');\r\n       let addModal = this.modalCtrl.create('SearchPage');\r\n       addModal.onDidDismiss(producto => {\r\n         if (producto) {\r\n\r\n          this.codigo= producto.codigo\r\n          this.buscarCodigo2(producto.codigo);\r\n          \r\n         }\r\n       })\r\n       addModal.present();\r\n  }\r\n\r\n  cargarCero(){\r\n    let seq= this.items.cargarEnCero();\r\n\r\n    seq.subscribe((res:any)=>{\r\n      this.productos = res;\r\n    })\r\n  }\r\n\r\n  buscarNombre(nombre) {\r\n    this.buscador = \"nombre\";\r\n    let seq = this.items.buscarProductoNombre(nombre);\r\n    seq.subscribe((res: any) => {\r\n\r\n      console.log(res);\r\n      this.productos = res;\r\n    }, err => {\r\n      console.error('ERROR', err);\r\n    });\r\n\r\n  }\r\n\r\n  buscarCodigo() {\r\n    this.buscador = \"codigo\";\r\n    let seq = this.items.buscarProductoCodigo(this.formCodigo.value.name);\r\n    seq.subscribe((res: any) => {\r\n      console.log('asdasdsa')\r\n      console.log(res);\r\n      this.productos = res;\r\n    }, err => {\r\n      console.error('ERROR', err);\r\n    });\r\n\r\n  }\r\n\r\n  buscarCodigo2(codigo) {\r\n    this.buscador = \"codigo\";\r\n    let seq = this.items.buscarProductoCodigo(codigo);\r\n    seq.subscribe((res: any) => {\r\n \r\n    \r\n      this.productos = res;\r\n    }, err => {\r\n      console.error('ERROR', err);\r\n    });\r\n\r\n  }\r\n\r\n  modificarItem(producto) {\r\n\r\n\r\n    //  let addModal = this.modalCtrl.create('ItemCreatePage');\r\n    let addModal = this.modalCtrl.create('ItemCreatePage', { producto: producto });\r\n    addModal.onDidDismiss(producto => {\r\n      if (producto) {\r\n        let seq = this.items.modificarProducto(producto.id, producto);\r\n\r\n        seq.subscribe((res: any) => {\r\n          console.log('aqui no hay nada')\r\n          console.log(res.codigo)\r\n\r\n          if (res) {\r\n            this.buscarCodigo2(res.codigo);\r\n          }\r\n\r\n         \r\n      \r\n         \r\n        })\r\n      }\r\n    })\r\n    addModal.present();\r\n  }\r\n\r\n  todosProductos(){\r\n   let seq= this.items.todosProductos();\r\n\r\n   seq.subscribe(res=>{\r\n    this.productos = res;\r\n   })\r\n  }\r\n\r\n  listarPrecios(producto) {\r\n    //  let addModal = this.modalCtrl.create('ItemCreatePage');\r\n    let addModal = this.modalCtrl.create('PrecioPage', { producto: producto });\r\n    addModal.onDidDismiss(producto => {\r\n      if (producto) {\r\n        let seq = this.items.modificarProducto(producto.id, producto);\r\n\r\n        seq.subscribe(res => {\r\n\r\n        \r\n        })\r\n      }\r\n    })\r\n    addModal.present();\r\n  }\r\n\r\n  agregarStock(producto) {\r\n    //  let addModal = this.modalCtrl.create('ItemCreatePage');\r\n    let addModal = this.modalCtrl.create('StockPage', { producto: producto });\r\n    addModal.onDidDismiss(data => {\r\n     \r\n      if (data) {\r\n       \r\n        let seq = this.items.modificarStock(data.id, data.stock);\r\n\r\n        seq.subscribe(res => {\r\n          if (this.buscador == \"nombre\") {\r\n            this.saludar();\r\n          } else if (this.buscador == \"codigo\") {\r\n            this.buscarCodigo();\r\n          }\r\n        })\r\n\r\n      }\r\n    })\r\n    addModal.present();\r\n  \r\n\r\n  }\r\n\r\n  desactivarItem(producto) {\r\n    let confirm = this.alertCtrl.create({\r\n      title: 'Eliminar este producto?',\r\n      message: 'Está seguro que desea continuar?',\r\n      buttons: [\r\n        {\r\n          text: 'Cancelar',\r\n          handler: () => {\r\n            console.log('Disagree clicked');\r\n          }\r\n        },\r\n        {\r\n          text: 'Aceptar',\r\n          handler: () => {\r\n            if (producto) {\r\n              let seq = this.items.modificarProducto(producto.id, { estado: 0 });\r\n\r\n              seq.subscribe(res => {\r\n              \r\n               \r\n                if (this.buscador == \"nombre\") {\r\n                  this.saludar();\r\n                } else if (this.buscador == \"codigo\") {\r\n                  this.buscarCodigo();\r\n                  \r\n                }\r\n\r\n\r\n\r\n              })\r\n            }\r\n\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    confirm.present();\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts"],"sourceRoot":""}