{"version":3,"sources":["../../src/pages/precio/precio.module.ts","../../src/pages/precio/precio.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { PrecioPage } from './precio';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    PrecioPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(PrecioPage),\r\n  ],\r\n})\r\nexport class PrecioPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/precio/precio.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Items } from '../../providers/providers';\r\n\r\n/**\r\n * Generated class for the PrecioPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-precio',\r\n  templateUrl: 'precio.html',\r\n})\r\nexport class PrecioPage {\r\n\r\n  form: FormGroup;\r\n  checked: boolean;\r\n  formCodigo: FormGroup;\r\n  prod: any;\r\n  unidad: any;\r\n  precio: any;\r\n  tamano: any;\r\n  unidades: any;\r\n  items: any;\r\n  id: any;\r\n  accion: any;\r\n  producto: any;\r\n  constructor(\r\n\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    public formBuilder: FormBuilder,\r\n    public service: Items) {\r\n\r\n    this.prod = navParams.get('producto');\r\n    this.obtenerPrecios();\r\n    this.obtenerUnidades();\r\n    this.accion='nuevo';\r\n    this.checked = false;\r\n\r\n    \r\n\r\n    this.formCodigo = formBuilder.group({\r\n      id: [''],\r\n      unidad: ['', Validators.required],\r\n      precio: ['', Validators.required],\r\n      tamano: ['', Validators.required],\r\n      producto: [this.prod.id, Validators.required]\r\n    });\r\n\r\n   \r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad PrecioPage');\r\n  }\r\n\r\n  obtenerUnidades() {\r\n    this.service.obtenerUnidades().subscribe(resultado => {\r\n      console.log(resultado)\r\n      this.unidades = resultado;\r\n    })\r\n  }\r\n\r\n\r\n  obtenerPrecios() {\r\n    let seq = this.service.obtenerPrecios(this.prod.id);\r\n    seq.subscribe((res) => {\r\n     \r\n      this.items = res;\r\n    })\r\n  }\r\n\r\n  editar(producto) {\r\n    \r\n    this.accion = \"editar\";\r\n\r\n    this.checked = true;\r\n    this.id = producto.id;\r\n    this.producto = producto.producto;\r\n    this.unidad = producto.unidad.id;\r\n    this.precio = producto.precio;\r\n    this.tamano = producto.tamano;\r\n  }\r\n\r\n  eliminar(producto) {\r\n    let seq = this.service.eliminarPrecio(producto.id);\r\n    seq.subscribe((res)=>{\r\n      this.obtenerPrecios();\r\n    })\r\n  }\r\n\r\n  nuevo() {\r\n    \r\n    this.accion = \"nuevo\"\r\n    this.unidad = \"\";\r\n    this.precio = \"\";\r\n    this.tamano = \"\";\r\n    this.id = \"\";\r\n  }\r\n\r\n\r\n  gestionar() {\r\n\r\n\r\n    if (this.formCodigo.invalid) {\r\n\r\n    }\r\n    else {\r\n\r\n      switch (this.accion) {\r\n        case 'editar':\r\n        if (this.formCodigo.value.tamano<=0 || this.formCodigo.value.precio<=0) {\r\n          alert(\"No se puede ingresar valores igual o menores a cero\")\r\n        } else {\r\n          let seq = this.service.modificarPrecio(this.formCodigo.value);\r\n          seq.subscribe((res) => {\r\n            this.obtenerPrecios();\r\n            this.unidad = \"\";\r\n            this.precio = \"\";\r\n            this.tamano = \"\";\r\n            this.id = \"\";\r\n            this.nuevo();\r\n          })\r\n        }\r\n         \r\n          break;\r\n\r\n        case 'nuevo':\r\n          if (this.formCodigo.value.tamano<=0 || this.formCodigo.value.precio<=0) {\r\n            alert(\"No se puede ingresar valores igual o menores a cero\")\r\n          } else {\r\n            let seq2 = this.service.agregarPrecio({\r\n              producto: this.formCodigo.value.producto,\r\n              unidad: this.formCodigo.value.unidad,\r\n              tamano: this.formCodigo.value.tamano,\r\n              precio: this.formCodigo.value.precio,\r\n            });\r\n              seq2.subscribe((res) => {\r\n           \r\n                this.obtenerPrecios();\r\n                this.unidad = \"\";\r\n                this.precio = \"\";\r\n                this.tamano = \"\";\r\n                this.id = \"\";\r\n              })\r\n            \r\n          }\r\n\r\n        \r\n          break;\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/precio/precio.ts"],"sourceRoot":""}